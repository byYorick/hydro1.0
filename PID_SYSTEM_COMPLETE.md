# PID –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Å–æ—Å–æ–≤ - –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## ‚úÖ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. PID Controller (`components/pid_controller/`)
- ‚úÖ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π PID –∞–ª–≥–æ—Ä–∏—Ç–º
- ‚úÖ Anti-windup clamping
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –¥–ª—è D-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ Kp, Ki, Kd

### 2. Pump Manager (`components/pump_manager/`)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 6 –Ω–∞—Å–æ—Å–∞–º–∏
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¥–æ–∑—ã, –æ–±—ä–µ–º, –≤—Ä–µ–º—è)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ Cooldown —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å peristaltic_pump.c

### 3. Pump PID Manager (`components/pump_pid_manager/`)
- ‚úÖ 6 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö PID –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- ‚úÖ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–æ–∑ —á–µ—Ä–µ–∑ PID
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ pump_manager
- ‚úÖ –ê–≤—Ç–æ/—Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º

### 4. System Config —Ä–∞—Å—à–∏—Ä–µ–Ω
- ‚úÖ pump_pid_config_t[6] - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ—Ö PID
- ‚úÖ control_mode - —Ä–µ–∂–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Manual/PID/AI/Hybrid)
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞—Å–æ—Å–∞

## üìä –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PID –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

| –ù–∞—Å–æ—Å | Kp | Ki | Kd | Min(–º–ª) | Max(–º–ª) | –†–µ–∂–∏–º |
|-------|----|----|-----|---------|---------|-------|
| pH UP | 2.0 | 0.5 | 0.1 | 1.0 | 50.0 | AUTO |
| pH DOWN | 2.0 | 0.5 | 0.1 | 1.0 | 50.0 | AUTO |
| EC A | 1.0 | 0.2 | 0.05 | 1.0 | 30.0 | AUTO |
| EC B | 1.0 | 0.2 | 0.05 | 1.0 | 30.0 | AUTO |
| EC C | 0.8 | 0.15 | 0.03 | 0.5 | 15.0 | AUTO |
| WATER | 0.5 | 0.1 | 0.0 | 5.0 | 100.0 | MANUAL |

## üîí –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–æ–∑–∞: 0.1 –º–ª
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–æ–∑–∞: 100 –º–ª
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª: 10 —Å–µ–∫—É–Ω–¥
- –ú–∞–∫—Å–∏–º—É–º –¥–æ–∑ –≤ —á–∞—Å: 20

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```c
#include "pump_pid_manager.h"

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
pump_pid_manager_init();

// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ PID –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
float current_ph = 7.2;
float target_ph = 6.8;

pump_pid_compute_and_execute(PUMP_PID_PH_DOWN, current_ph, target_ph);
// PID –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç –¥–æ–∑—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç —á–µ—Ä–µ–∑ pump_manager
```

## ‚è≥ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- UI —ç–∫—Ä–∞–Ω—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ PID (–ø–ª–∞–Ω—ã –≥–æ—Ç–æ–≤—ã)
- Auto-tuning Ziegler-Nichols
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ph_ec_controller
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ PID –Ω–∞ SD
- MQTT –ø—É–±–ª–∏–∫–∞—Ü–∏—è PID –¥–∞–Ω–Ω—ã—Ö

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!
UI —ç–∫—Ä–∞–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

