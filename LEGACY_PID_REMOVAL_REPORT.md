# üóëÔ∏è –û–¢–ß–ï–¢: –£–î–ê–õ–ï–ù–ò–ï LEGACY PID –°–ò–°–¢–ï–ú–´

**–î–∞—Ç–∞:** 15 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û –í–´–ü–û–õ–ù–ï–ù–û

---

## üìã –ó–ê–î–ê–ß–ê

–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é (legacy) PID —Å–∏—Å—Ç–µ–º—É –∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—É—é **–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é PID —Å–∏—Å—Ç–µ–º—É**.

---

## üóÇÔ∏è –£–î–ê–õ–Å–ù–ù–´–ï –§–ê–ô–õ–´

### Legacy PID —ç–∫—Ä–∞–Ω—ã (12 —Ñ–∞–π–ª–æ–≤):

| ‚Ññ | –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---|------|------------|
| 1 | `components/lvgl_ui/screens/pid/pid_main_screen.c` | –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω legacy PID |
| 2 | `components/lvgl_ui/screens/pid/pid_main_screen.h` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ |
| 3 | `components/lvgl_ui/screens/pid/pid_detail_screen.c` | –î–µ—Ç–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω |
| 4 | `components/lvgl_ui/screens/pid/pid_detail_screen.h` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ |
| 5 | `components/lvgl_ui/screens/pid/pid_tuning_screen.c` | –≠–∫—Ä–∞–Ω —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| 6 | `components/lvgl_ui/screens/pid/pid_tuning_screen.h` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ |
| 7 | `components/lvgl_ui/screens/pid/pid_advanced_screen.c` | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| 8 | `components/lvgl_ui/screens/pid/pid_advanced_screen.h` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ |
| 9 | `components/lvgl_ui/screens/pid/pid_thresholds_screen.c` | –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è |
| 10 | `components/lvgl_ui/screens/pid/pid_thresholds_screen.h` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ |
| 11 | `components/lvgl_ui/screens/pid/pid_graph_screen.c` | –ì—Ä–∞—Ñ–∏–∫–∏ PID |
| 12 | `components/lvgl_ui/screens/pid/pid_graph_screen.h` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ |

**–ò—Ç–æ–≥–æ —É–¥–∞–ª–µ–Ω–æ:** ~15 KB –∫–æ–¥–∞

---

## üîÑ –û–ë–ù–û–í–õ–Å–ù–ù–´–ï –§–ê–ô–õ–´

### 1. `components/lvgl_ui/CMakeLists.txt`

**–£–¥–∞–ª–µ–Ω–æ:**
```cmake
# PID screens
"screens/pid/pid_main_screen.c"
"screens/pid/pid_detail_screen.c"
"screens/pid/pid_tuning_screen.c"
"screens/pid/pid_advanced_screen.c"
"screens/pid/pid_thresholds_screen.c"
"screens/pid/pid_graph_screen.c"
```

**–ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞:**
```cmake
# Intelligent Adaptive PID screens (LEGACY PID —É–¥–∞–ª—ë–Ω)
"screens/adaptive/pid_intelligent_dashboard.c"
"screens/adaptive/pid_intelligent_detail.c"
"screens/adaptive/pid_auto_tune_screen.c"
```

**–¢–∞–∫–∂–µ —É–¥–∞–ª–µ–Ω–æ –∏–∑ INCLUDE_DIRS:**
```cmake
"screens/pid"  # –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ
```

---

### 2. `components/lvgl_ui/screen_manager/screen_init.c`

**–£–¥–∞–ª–µ–Ω–æ 6 #include:**
```c
#include "../screens/pid/pid_main_screen.h"
#include "../screens/pid/pid_detail_screen.h"
#include "../screens/pid/pid_tuning_screen.h"
#include "../screens/pid/pid_advanced_screen.h"
#include "../screens/pid/pid_thresholds_screen.h"
#include "../screens/pid/pid_graph_screen.h"
```

**–£–¥–∞–ª–µ–Ω–æ 6 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π —ç–∫—Ä–∞–Ω–æ–≤:**
- `pid_main` (–≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω legacy PID)
- `pid_detail` (–¥–µ—Ç–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω)
- `pid_tuning` (—Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- `pid_advanced` (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- `pid_thresholds` (–ø–æ—Ä–æ–≥–∏)
- `pid_graph` (–≥—Ä–∞—Ñ–∏–∫–∏)

**–ó–∞–º–µ–Ω–µ–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º:**
```c
// ========================================================================
// 8. –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–´–ô –ê–î–ê–ü–¢–ò–í–ù–´–ô PID (LEGACY PID –£–î–ê–õ–Å–ù)
// ========================================================================
```

---

### 3. `components/lvgl_ui/screens/pumps/pumps_menu_screen.c`

**–ò–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è:**

```c
// ‚ùå –ë—ã–ª–æ:
screen_show("pid_main", NULL);

// ‚úÖ –°—Ç–∞–ª–æ:
screen_show("pid_intelligent_dashboard", NULL);  // –ù–æ–≤—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π PID
```

---

### 4. `components/lvgl_ui/screens/pumps/pumps_status_screen.c`

**–ò–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è:**

```c
// ‚ùå –ë—ã–ª–æ:
screen_show("pid_detail", (void*)(intptr_t)pump_idx);

// ‚úÖ –°—Ç–∞–ª–æ:
screen_show("pid_intelligent_detail", (void*)(intptr_t)pump_idx);
```

---

## üéØ –ß–¢–û –û–°–¢–ê–õ–û–°–¨

### ‚úÖ –ù–æ–≤–∞—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è PID —Å–∏—Å—Ç–µ–º–∞:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å |
|-----------|------|------------------|
| **Backend** | `components/adaptive_pid/` | –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π PID —Å –æ–±—É—á–µ–Ω–∏–µ–º –±—É—Ñ–µ—Ä–Ω–æ–π —ë–º–∫–æ—Å—Ç–∏ |
| **Backend** | `components/trend_predictor/` | –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤ (–ª–∏–Ω–µ–π–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è, —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ) |
| **Backend** | `components/pid_auto_tuner/` | –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ PID (–º–µ—Ç–æ–¥ Relay, Ziegler-Nichols) |
| **Frontend** | `screens/adaptive/pid_intelligent_dashboard.c` | Dashboard —Å –∫–∞—Ä—Ç–∞–º–∏ –Ω–∞—Å–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏ |
| **Frontend** | `screens/adaptive/pid_intelligent_detail.c` | –î–µ—Ç–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω (3 –≤–∫–ª–∞–¥–∫–∏: –û–±–∑–æ—Ä, –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –ì—Ä–∞—Ñ–∏–∫) |
| **Frontend** | `screens/adaptive/pid_auto_tune_screen.c` | –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º |
| **Widget** | `widgets/intelligent_pid_card.c` | –ö–∞—Ä—Ç–æ—á–∫–∞ PID —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π |

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø—Ä–æ—à–∏–≤–∫–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ —É–¥–∞–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|----------|------------|----------------|-----------|
| **–†–∞–∑–º–µ—Ä .bin** | 800.432 bytes (0xc36b0) | 787.216 bytes (0xc0710) | **-13.216 bytes (-1.6%)** |
| **–°–≤–æ–±–æ–¥–Ω–æ flash** | 245.072 bytes (24%) | 260.848 bytes (25%) | **+15.776 bytes** |
| **–ö–æ–ª-–≤–æ —ç–∫—Ä–∞–Ω–æ–≤** | 23 —ç–∫—Ä–∞–Ω–∞ | 17 —ç–∫—Ä–∞–Ω–æ–≤ | **-6 —ç–∫—Ä–∞–Ω–æ–≤** |

### –£–ø—Ä–æ—â–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:

**–ë—ã–ª–æ (legacy):**
```
–ù–∞—Å–æ—Å—ã ‚Üí PID –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí pid_main ‚Üí pid_detail ‚Üí 
  ‚îú‚îÄ pid_tuning
  ‚îú‚îÄ pid_advanced ‚Üí pid_thresholds
  ‚îî‚îÄ pid_graph
```

**–°—Ç–∞–ª–æ (–Ω–æ–≤–æ–µ):**
```
–ù–∞—Å–æ—Å—ã ‚Üí PID –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí pid_intelligent_dashboard ‚Üí pid_intelligent_detail
  ‚îú‚îÄ –í–∫–ª–∞–¥–∫–∞ "–û–±–∑–æ—Ä" (—Å—Ç–∞—Ç—É—Å, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
  ‚îú‚îÄ –í–∫–ª–∞–¥–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" (Kp, Ki, Kd, deadband, –∫–Ω–æ–ø–∫–∞ –∞–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
  ‚îî‚îÄ –í–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫" (50 —Ç–æ—á–µ–∫ –∏—Å—Ç–æ—Ä–∏–∏)
  
–ù–∞—Å–æ—Å—ã ‚Üí PID –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí pid_intelligent_dashboard ‚Üí pid_intelligent_detail ‚Üí 
  –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ‚Üí pid_auto_tune
```

---

## ‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ù–û–í–û–ô –°–ò–°–¢–ï–ú–´

### 1. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å**
- ‚úÖ –°–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–Ω–æ–π —ë–º–∫–æ—Å—Ç–∏ —Ä–∞—Å—Ç–≤–æ—Ä–∞
- ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –±—É–¥—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π pH/EC
- ‚úÖ –£–ø—Ä–µ–∂–¥–∞—é—â–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è (preemptive control)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã Kp, Ki, Kd

### 2. **–ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞**
- ‚úÖ –ú–µ—Ç–æ–¥ Relay (Ziegler-Nichols)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç Ku, Tu
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π

### 3. **UI/UX**
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π dashboard —Å –∫–∞—Ä—Ç–∞–º–∏ –≤—Å–µ—Ö –Ω–∞—Å–æ—Å–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω —Å 3 –≤–∫–ª–∞–¥–∫–∞–º–∏ (–≤–º–µ—Å—Ç–æ 4 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤)
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ (idle, learning, predicting, tuning)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —ç–Ω–∫–æ–¥–µ—Ä–æ–º (focus, navigate, confirm)

### 4. **–ü–∞–º—è—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ NVS (–≤—ã–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏)
- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (LV_EVENT_DELETE callbacks)
- ‚úÖ –ù–µ—Ç watchdog timeout (esp_task_wdt_reset)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–µ–∫–∏ –∑–∞–¥–∞—á (16KB)

### 5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è 50 —Ç–æ—á–µ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞—Å–æ—Å–∞
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ü–∏–π (—É—Å–ø–µ—à–Ω—ã–µ/–æ–±—â–∏–µ)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (success ratio)
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üîç –ú–ò–ì–†–ê–¶–ò–Ø –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–ò

| Legacy —Ñ—É–Ω–∫—Ü–∏—è | –ù–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | –£–ª—É—á—à–µ–Ω–∏—è |
|---------------|------------------|-----------|
| –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Kp, Ki, Kd | –í–∫–ª–∞–¥–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" –≤ `pid_intelligent_detail` | + –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ NVS |
| –ì—Ä–∞—Ñ–∏–∫ PID | –í–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫" –≤ `pid_intelligent_detail` | + 50 —Ç–æ—á–µ–∫ –∏—Å—Ç–æ—Ä–∏–∏, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞ |
| –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | –í–∫–ª–∞–¥–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" (deadband, anti-windup) | + —É–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è |
| –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | –í—Å—Ç—Ä–æ–µ–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω | - –ª–∏—à–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ |
| –°—Ç–∞—Ç—É—Å –Ω–∞—Å–æ—Å–æ–≤ | Dashboard —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ | + visual status (—Ü–≤–µ—Ç–∞), –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ |
| **–ù–û–í–û–ï** | –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ PID | –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è |
| **–ù–û–í–û–ï** | –û–±—É—á–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–Ω–æ–π —ë–º–∫–æ—Å—Ç–∏ | –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è |
| **–ù–û–í–û–ï** | –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤ | –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è |

---

## üöÄ –ù–ê–í–ò–ì–ê–¶–ò–Ø –í –ù–û–í–û–ô –°–ò–°–¢–ï–ú–ï

### –î–æ—Å—Ç—É–ø –∫ PID –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é:

```
1. –°–∏—Å—Ç–µ–º–∞ ‚Üí –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π PID
   ‚îî‚îÄ pid_intelligent_dashboard (–æ–±—â–∏–π –æ–±–∑–æ—Ä –≤—Å–µ—Ö –Ω–∞—Å–æ—Å–æ–≤)
       ‚îú‚îÄ –ö–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí pid_intelligent_detail (–¥–µ—Ç–∞–ª–∏ –¥–ª—è –Ω–∞—Å–æ—Å–∞)
       ‚îÇ   ‚îú‚îÄ –í–∫–ª–∞–¥–∫–∞ "–û–±–∑–æ—Ä": —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
       ‚îÇ   ‚îú‚îÄ –í–∫–ª–∞–¥–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏": Kp, Ki, Kd, deadband, –∫–Ω–æ–ø–∫–∞ –∞–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∏
       ‚îÇ   ‚îî‚îÄ –í–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫": –∏—Å—Ç–æ—Ä–∏—è 50 —Ç–æ—á–µ–∫ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ–º
       ‚îî‚îÄ –ö–Ω–æ–ø–∫–∞ "–ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ PID" ‚Üí pid_auto_tune (–ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

2. –ù–∞—Å–æ—Å—ã ‚Üí PID –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   ‚îî‚îÄ pid_intelligent_dashboard (—Ç–æ—Ç –∂–µ dashboard)
   
3. –ù–∞—Å–æ—Å—ã ‚Üí –°—Ç–∞—Ç—É—Å –Ω–∞—Å–æ—Å–æ–≤ ‚Üí –ö–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –Ω–∞—Å–æ—Å–∞
   ‚îî‚îÄ pid_intelligent_detail (—Å—Ä–∞–∑—É –Ω–∞ –¥–µ—Ç–∞–ª–∏)
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏:
```
‚úÖ CMake: —É—Å–ø–µ—à–Ω–æ (–±–µ–∑ –æ—à–∏–±–æ–∫)
‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è: —É—Å–ø–µ—à–Ω–æ (—Ç–æ–ª—å–∫–æ warnings –≤ system_tasks)
‚úÖ –õ–∏–Ω–∫–æ–≤–∫–∞: —É—Å–ø–µ—à–Ω–æ
‚úÖ –ü—Ä–æ—à–∏–≤–∫–∞: 787 KB (25% —Å–≤–æ–±–æ–¥–Ω–æ)
```

### –ù–∞–≤–∏–≥–∞—Ü–∏—è:
- ‚úÖ `pumps_menu` ‚Üí `pid_intelligent_dashboard` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `pumps_status` (–∫–ª–∏–∫ –Ω–∞ –Ω–∞—Å–æ—Å) ‚Üí `pid_intelligent_detail` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `system_menu` ‚Üí `pid_intelligent_dashboard` —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–∞–º—è—Ç—å:
- ‚úÖ –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ Watchdog timeout –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ –°—Ç–µ–∫–∏ –∑–∞–¥–∞—á –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (16KB)

---

## üìù –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–£–¥–∞–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤** | 12 (.c + .h) |
| **–£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞** | ~2500 LOC |
| **–£–¥–∞–ª–µ–Ω–æ —ç–∫—Ä–∞–Ω–æ–≤** | 6 —ç–∫—Ä–∞–Ω–æ–≤ |
| **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ –ø–∞–º—è—Ç–∏** | 13 KB flash |
| **–£–ø—Ä–æ—â–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** | 4 —É—Ä–æ–≤–Ω—è ‚Üí 2 —É—Ä–æ–≤–Ω—è |
| **–ù–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π** | +3 (–∞–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –æ–±—É—á–µ–Ω–∏–µ, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ) |

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**Legacy PID —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞.**  

**–ù–æ–≤–∞—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è PID —Å–∏—Å—Ç–µ–º–∞:**
- ‚ú® **–£–º–Ω–µ–µ:** —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ + –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ + –∞–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- üé® **–£–¥–æ–±–Ω–µ–µ:** –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π UI, –º–µ–Ω—å—à–µ –∫–ª–∏–∫–æ–≤
- üíæ **–ù–∞–¥—ë–∂–Ω–µ–µ:** NVS storage, –Ω–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- üöÄ **–ë—ã—Å—Ç—Ä–µ–µ:** –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ—à–∏–≤–∫–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏!** üåø‚ú®

