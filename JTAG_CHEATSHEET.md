# ‚ö° JTAG –®–ø–∞—Ä–≥–∞–ª–∫–∞ - ESP32-S3

## üî• –¢–†–ò –ö–û–ú–ê–ù–î–´ –ö–û–¢–û–†–´–ï –í–´ –ë–£–î–ï–¢–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### 1Ô∏è‚É£ –°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –±–∞–≥–µ
```bash
collect_crash_data.bat
```
‚Üí –°–æ–∑–¥–∞—Å—Ç `crash_report_*.txt`  
‚Üí –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ —á–∞—Ç

### 2Ô∏è‚É£ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é
```bash
python read_esp32_memory.py
```
‚Üí –ú–µ–Ω—é: chip info, —Ä–µ–≥–∏—Å—Ç—Ä—ã, RAM, Flash, etc.

### 3Ô∏è‚É£ –ü—Ä–æ—à–∏—Ç—å —á–µ—Ä–µ–∑ JTAG
```bash
flash_jtag.bat
```
‚Üí –ë—ã—Å—Ç—Ä–µ–µ UART, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ COM

---

## üìù –ö–ê–ö –°–û–û–ë–©–ò–¢–¨ –û –ë–ê–ì–ï

```bash
# –®–∞–≥ 1: –°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
collect_crash_data.bat

# –®–∞–≥ 2: –í —á–∞—Ç –Ω–∞–ø–∏—Å–∞—Ç—å:
```
```
–ë–∞–≥: [–æ–ø–∏—Å–∞–Ω–∏–µ –≤ 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ]

–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:
1. [—à–∞–≥]
2. [—à–∞–≥]
3. –ö–†–ê–®/–ó–ê–í–ò–°–ê–ù–ò–ï

[–≤—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ crash_report_*.txt]
```

---

## üéØ –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´ OpenOCD

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
jtag_interactive.bat

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
telnet localhost 4444
```

```
> reset halt              # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
> reset run               # –ó–∞–ø—É—Å—Ç–∏—Ç—å
> reg                     # –†–µ–≥–∏—Å—Ç—Ä—ã
> mdw 0x3FC88000 32      # RAM
> esp chip_info           # –ò–Ω—Ñ–æ
```

---

## üõ†Ô∏è –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´ GDB

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å GDB
xtensa-esp32s3-elf-gdb build/hydroponics.elf
(gdb) target remote localhost:3333
```

```gdb
bt                        # –°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤
info threads              # –ó–∞–¥–∞—á–∏ FreeRTOS
p variable_name           # –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è
x/32xw $sp               # –°—Ç–µ–∫
b app_main               # Breakpoint
c                        # Continue
```

---

## üìä –ö–ê–†–¢–ê –ü–ê–ú–Ø–¢–ò (–æ—Å–Ω–æ–≤–Ω–æ–µ)

| –ê–¥—Ä–µ—Å | –ß—Ç–æ | –ß–∏—Ç–∞—Ç—å |
|-------|-----|--------|
| `0x3FC88000` | DRAM | `mdw 0x3FC88000 64` |
| `0x40370000` | IRAM | `mdw 0x40370000 64` |
| `0x40056F62` | ROM | Boot ROM –∫–æ–¥ |

---

## üÜò –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

```bash
# –£–±–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
taskkill /F /IM openocd.exe
taskkill /F /IM gdb.exe

# –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å USB
# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
```

---

## üìö –ü–û–õ–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

- **–ù–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å:** `JTAG_DEBUG_INDEX.md`
- **–ö–∞–∫ —Å–æ–æ–±—â–∞—Ç—å –æ –±–∞–≥–∞—Ö:** `HOW_TO_REPORT_BUGS.md`
- **–í—Å–µ –∫–æ–º–∞–Ω–¥—ã:** `JTAG_READ_GUIDE.md`

---

## üí° –°–û–í–ï–¢ –î–ù–Ø

–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ —á—Ç–æ –¥–µ–ª–∞—Ç—å - –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
collect_crash_data.bat
```
–ò –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —á–∞—Ç! –Ø —Ä–∞–∑–±–µ—Ä—É—Å—å! üöÄ

