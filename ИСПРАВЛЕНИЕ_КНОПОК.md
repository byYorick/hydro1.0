# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–µ–∫ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫

## üéØ –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (`lv_obj_create`) —Å —Ñ–ª–∞–≥–æ–º `LV_OBJ_FLAG_CLICKABLE` **–ù–ï –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç** —Å–æ–±—ã—Ç–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (`LV_KEY_ENTER`) –æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–ó–∞–º–µ–Ω–∏–ª –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞ **–Ω–∞—Å—Ç–æ—è—â–∏–µ –∫–Ω–æ–ø–∫–∏** (`lv_btn_create`)

### –ë—ã–ª–æ (–ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —ç–Ω–∫–æ–¥–µ—Ä–æ–º):
```c
lv_obj_t *pid_item = lv_obj_create(list_container);
lv_obj_add_flag(pid_item, LV_OBJ_FLAG_CLICKABLE);  // ‚ùå –ù–µ –ø–æ–º–æ–≥–∞–µ—Ç!
lv_obj_add_event_cb(pid_item, on_pid_item_click, LV_EVENT_CLICKED, ...);
```

### –°—Ç–∞–ª–æ (—Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ):
```c
lv_obj_t *pid_item = lv_btn_create(list_container);  // ‚úÖ –ù–∞—Å—Ç–æ—è—â–∞—è –∫–Ω–æ–ø–∫–∞
lv_obj_add_event_cb(pid_item, on_pid_item_click, LV_EVENT_CLICKED, ...);
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –£–±—Ä–∞–Ω–∞ legacy –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç–Ω–∫–æ–¥–µ—Ä–∞
- –û—Å—Ç–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞: **Screen Manager**

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- –°–æ–∑–¥–∞–Ω–∏–µ UI –≤—ã–Ω–µ—Å–µ–Ω–æ –∏–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —Å–µ–∫—Ü–∏–∏
- –£–≤–µ–ª–∏—á–µ–Ω timeout: 100–º—Å ‚Üí 500–º—Å
- –î–æ–±–∞–≤–ª–µ–Ω retry –¥–ª—è –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|------|-----------|
| `pid_main_screen.c` | `lv_obj_create` ‚Üí `lv_btn_create` |
| `pumps_status_screen.c` | `lv_obj_create` ‚Üí `lv_btn_create` |
| `lvgl_ui.c` | –£–±—Ä–∞–Ω–∞ legacy –æ–±—Ä–∞–±–æ—Ç–∫–∞ + retry |
| `screen_lifecycle.c` | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ |

## –ü—Ä–æ—à–∏–≤–∫–∞

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ó–∞–∫—Ä–æ–π—Ç–µ COM10 –ø–µ—Ä–µ–¥ –ø—Ä–æ—à–∏–≤–∫–æ–π!

```cmd
idf.py -p COM10 flash monitor
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ**
- ‚úÖ –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫
- ‚úÖ –§–æ–∫—É—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ
- ‚úÖ –ö–æ–¥ —á–∏—â–µ –∏ –ø—Ä–æ—â–µ

---
**–†–∞–∑–º–µ—Ä –ø—Ä–æ—à–∏–≤–∫–∏:** 717KB (32% —Å–≤–æ–±–æ–¥–Ω–æ)


