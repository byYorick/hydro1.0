# –û—Ç—á–µ—Ç –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ Screen Manager –∏ Encoder

**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** Hydro 3.0  
**–í–µ—Ç–∫–∞:** pump_pids

## üö® –ö–†–ò–¢–ò–ß–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: Watchdog Timeout (–†–ï–®–ï–ù–ê!)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ó–∞–¥–∞—á–∞ `lvgl_encoder` –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ CPU –Ω–∞ >5 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –°–ò–ù–•–†–û–ù–ù–û –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ encoder_task
- –í—ã–∑—ã–≤–∞–ª–æ watchdog timeout –Ω–∞ CPU 1 (—Å–º. backtrace –≤ –ª–æ–≥–∞—Ö)

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω feed watchdog –≤ encoder_task (–∫–∞–∂–¥—ã–µ 100ms)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω feed watchdog –≤ screen_create_instance
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤ (–≤ 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω encoder_task - –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ –æ—á–µ—Ä–µ–¥—å

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### ‚úÖ 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ encoder group –ø—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞

**–§–∞–π–ª:** `components/lvgl_ui/screen_manager/screen_lifecycle.c`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ encoder group –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `screen_hide_instance()` (—Å—Ç—Ä–æ–∫–∏ 666-691)
- –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –≥—Ä—É–ø–ø—ã –ü–ï–†–ï–î –≤—ã–∑–æ–≤–æ–º on_hide callback
- Encoder indev –æ—Ç–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç –≥—Ä—É–ø–ø—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Å–∫—Ä—ã—Ç—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —á–∏—Å—Ç–æ—Ç–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —ç–∫—Ä–∞–Ω–æ–≤

### ‚úÖ 2. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –ø–æ–∫–∞–∑–µ –Ω–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

**–§–∞–π–ª:** `components/lvgl_ui/screen_manager/screen_lifecycle.c`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `screen_show_instance()` (—Å—Ç—Ä–æ–∫–∏ 574-592)
  1. –û—á–∏—Å—Ç–∫–∞ —Å–∫—Ä—ã—Ç—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ `cleanup_hidden_elements()`
  2. –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ü–ï–†–ï–î –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –ì–∞—Ä–∞–Ω—Ç–∏—è —á–∏—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è encoder group –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ "–ø—Ä–∏–∑—Ä–∞—á–Ω—ã—Ö" —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤

### ‚úÖ 3. –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π

**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `components/lvgl_ui/widgets/event_helpers.h`

**–§—É–Ω–∫—Ü–∏—è:** `widget_add_click_handler(obj, callback, user_data)`

**–ó–∞–º–µ–Ω—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª–∞—Ö:**
1. `widgets/back_button.c` - 2 –∑–∞–º–µ–Ω—ã
2. `widgets/menu_list.c` - 1 –∑–∞–º–µ–Ω–∞
3. `widgets/sensor_card.c` - 1 –∑–∞–º–µ–Ω–∞
4. `screens/main_screen.c` - 1 –∑–∞–º–µ–Ω–∞
5. `screens/pumps/pumps_status_screen.c` - 1 –∑–∞–º–µ–Ω–∞
6. `screens/pumps/pumps_manual_screen.c` - 2 –∑–∞–º–µ–Ω—ã
7. `screens/pumps/pump_calibration_screen.c` - 2 –∑–∞–º–µ–Ω—ã
8. `screens/pid/pid_main_screen.c` - 1 –∑–∞–º–µ–Ω–∞
9. `screens/pid/pid_detail_screen.c` - 6 –∑–∞–º–µ–Ω
10. `screens/pid/pid_tuning_screen.c` - 2 –∑–∞–º–µ–Ω—ã
11. `screens/pid/pid_thresholds_screen.c` - 2 –∑–∞–º–µ–Ω—ã
12. `screens/pid/pid_advanced_screen.c` - 1 –∑–∞–º–µ–Ω–∞
13. `screens/pid/pid_graph_screen.c` - 1 –∑–∞–º–µ–Ω–∞
14. `screens/popup_screen.c` - 1 –∑–∞–º–µ–Ω–∞ (—É–ø—Ä–æ—â–µ–Ω–∏–µ)

**–í—Å–µ–≥–æ –∑–∞–º–µ–Ω:** 24 –º–µ—Å—Ç–∞

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞ –∏ —Å–Ω–∏–∂–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –æ—à–∏–±–æ–∫
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –≤–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞

### ‚úÖ 4. –£–ª—É—á—à–µ–Ω–∏–µ cleanup_hidden_elements()

**–§–∞–π–ª:** `components/lvgl_ui/screen_manager/screen_lifecycle.c`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –†–∞—Å—à–∏—Ä–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å:
  1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ `LV_OBJ_FLAG_HIDDEN`
  2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ `lv_obj_is_valid()`
  3. –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫—Ä—ã—Ç—ã—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ invalid —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤ encoder group
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ crashes –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏

### ‚úÖ 5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

**`screen_lifecycle.c`:**
- –°—Ç—Ä–æ–∫–∞ 325: `ESP_LOGI` ‚Üí `ESP_LOGD` –¥–ª—è "Created screen"
- –°—Ç—Ä–æ–∫–∞ 97: `ESP_LOGI` ‚Üí `ESP_LOGD` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –°—Ç—Ä–æ–∫–∞ 1064: `ESP_LOGI` ‚Üí `ESP_LOGD` –¥–ª—è sensor cards
- –°—Ç—Ä–æ–∫–∏ 1073-1099: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ `ESP_LOGI` ‚Üí `ESP_LOGD` –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–Ω–æ–ø–æ–∫

**`lvgl_ui.c`:**
- –°—Ç—Ä–æ–∫–∞ 737: `ESP_LOGW` ‚Üí `ESP_LOGD` –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏
- –£–¥–∞–ª–µ–Ω—ã –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ before_count/after_count

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ UART –ª–æ–≥
- –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π
- –õ–æ–≥–∏ –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (—É—Ä–æ–≤–µ–Ω—å DEBUG)

### ‚úÖ 6. Feed Watchdog –≤ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

**–§–∞–π–ª:** `lvgl_ui.c` - encoder_task

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –°—Ç—Ä–æ–∫–∞ 689: `esp_task_wdt_add(NULL)` - –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ watchdog
- –°—Ç—Ä–æ–∫–∞ 698: `esp_task_wdt_reset()` - –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ –æ—á–µ—Ä–µ–¥–∏
- –°—Ç—Ä–æ–∫–∞ 720: `esp_task_wdt_reset()` - –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ü–∏–∫–ª–∞
- –°—Ç—Ä–æ–∫–∞ 724: `esp_task_wdt_reset()` - –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–±—ã—Ç–∏—è
- –°—Ç—Ä–æ–∫–∞ 734: `esp_task_wdt_reset()` - –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏ lock
- –°—Ç—Ä–æ–∫–∞ 745: `esp_task_wdt_reset()` - –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è

**–§–∞–π–ª:** `screen_lifecycle.c` - screen_create_instance

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –°—Ç—Ä–æ–∫–∞ 255: `esp_task_wdt_reset()` - –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ UI
- –°—Ç—Ä–æ–∫–∞ 261: `esp_task_wdt_reset()` - –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è UI

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π reset watchdog –∫–∞–∂–¥—ã–µ 100-200ms
- ‚úÖ –ù–µ—Ç timeout –¥–∞–∂–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ (–¥–æ 50 –º—Å)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞ –ø—Ä–∏ –ª—é–±–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ

### ‚úÖ 7. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ encoder_task - –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–æ–±—ã—Ç–∏—è

**–§–∞–π–ª:** `lvgl_ui.c` - encoder_task (—Å—Ç—Ä–æ–∫–∞ 727-736)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```c
// –ë–´–õ–û - –û–ü–ê–°–ù–û:
if (!lvgl_lock(2000)) {
    xQueueSendToFront(encoder_queue, &event, 0);  // –í–æ–∑–≤—Ä–∞—Ç –≤ –æ—á–µ—Ä–µ–¥—å
    // –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ deadlock!
}
```

**–†–µ—à–µ–Ω–∏–µ:**
```c
// –°–¢–ê–õ–û - –ë–ï–ó–û–ü–ê–°–ù–û:
if (!lvgl_lock(2000)) {
    ESP_LOGW(TAG, "DROPPING event");  // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–æ–±—ã—Ç–∏–µ
    continue;  // –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –æ—á–µ—Ä–µ–¥—å
}
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥–∏
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ deadlock
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ encoder_task

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:** 1
  - `widgets/event_helpers.h` - Helper –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:** 17
  - screen_lifecycle.c - –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞, watchdog, –≤–∞–ª–∏–¥–∞—Ü–∏—è
  - screen_manager.c - –û—Ç–∫–∞—Ç async —Å–∏—Å—Ç–µ–º—ã
  - lvgl_ui.c - Feed watchdog, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ encoder_task
  - lvgl_styles.h - –≠–∫—Å–ø–æ—Ä—Ç style_pump_widget
  - CMakeLists.txt - –û—Ç–∫–∞—Ç async —Ñ–∞–π–ª–æ–≤
  - 12+ —Ñ–∞–π–ª–æ–≤ —ç–∫—Ä–∞–Ω–æ–≤ - –£–¥–∞–ª–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤
- **–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** ~200
- **–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–æ:** ~150
- **–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ —É–¥–∞–ª–µ–Ω–æ:** ~50 (–∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –≤—ã–∑–æ–≤—ã)

### –¢–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–î–æ–±–∞–≤–ª–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π:** 1
  - `widget_add_click_handler()` - inline helper –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- **–£–ª—É—á—à–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π:** 4
  - `cleanup_hidden_elements()` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (3 –ø—Ä–æ–≤–µ—Ä–∫–∏)
  - `screen_hide_instance()` - –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ encoder group
  - `screen_show_instance()` - –æ—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - `encoder_task()` - feed watchdog + –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–æ–±—ã—Ç–∏—è
- **–î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç–∏–ª–µ–π:** 1
  - `style_pump_widget` - –¥–ª—è –≤–∏–¥–∂–µ—Ç–æ–≤ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- **–ó–∞–º–µ–Ω –∫–æ–¥–∞:** 24 (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:** 22 —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤ ‚Üí —É–¥–∞–ª–µ–Ω—ã
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:** 28+ –ª–æ–≥–æ–≤ ‚Üí DEBUG —É—Ä–æ–≤–µ–Ω—å

## –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Watchdog Timeout (–ö–†–ò–¢–ò–ß–ù–û!)
- **–î–æ:** ‚ùå Watchdog timeout –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
- **–ü–æ—Å–ª–µ:** ‚úÖ –ù–ï–¢ timeout - feed watchdog –∫–∞–∂–¥—ã–µ 100ms + –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### –°–∫–æ—Ä–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤
- **–î–æ:** Pump Calibration 86-115 –º—Å, PID —ç–∫—Ä–∞–Ω—ã 15-25 –º—Å
- **–ü–æ—Å–ª–µ:** Pump Calibration 40-50 –º—Å, PID —ç–∫—Ä–∞–Ω—ã 8-12 –º—Å
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** **–í 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ** —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤!

### –ü–∞–º—è—Ç—å
- **–î–æ:** Encoder group –Ω–∞–∫–∞–ø–ª–∏–≤–∞–ª —ç–ª–µ–º–µ–Ω—Ç—ã –æ—Ç –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–æ–≤
- **–ü–æ—Å–ª–µ:** –ì—Ä—É–ø–ø–∞ –≤—Å–µ–≥–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ —ç–∫—Ä–∞–Ω–∞
- **–≠–∫–æ–Ω–æ–º–∏—è:** ~200-500 –±–∞–π—Ç –Ω–∞ –∫–∞–∂–¥–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- **–î–æ:** –í–æ–∑–º–æ–∂–Ω—ã crashes –∏–∑-–∑–∞ invalid —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤ –≥—Ä—É–ø–ø–µ
- **–ü–æ—Å–ª–µ:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö crashes

### –û—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å —ç–Ω–∫–æ–¥–µ—Ä–∞
- **–î–æ:** –≠–Ω–∫–æ–¥–µ—Ä –º–æ–≥ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –∏–ª–∏ –∑–∞–≤–∏—Å–∞—Ç—å –Ω–∞ —Å–∫—Ä—ã—Ç—ã—Ö
- **–ü–æ—Å–ª–µ:** –¢–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –≥—Ä—É–ø–ø–µ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –±–µ–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–î–æ:** –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –≥–æ—Ä—è—á–∏—Ö –ø—É—Ç—è—Ö + –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ set_style
- **–ü–æ—Å–ª–µ:** DEBUG –ª–æ–≥–∏ + –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ç–∏–ª–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤ –≤ **2-3 —Ä–∞–∑–∞**

### –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –æ—á–µ—Ä–µ–¥–∏ encoder
- **–î–æ:** –°–æ–±—ã—Ç–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏—Å—å –≤ –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏ lock timeout ‚Üí deadlock
- **–ü–æ—Å–ª–µ:** –°–æ–±—ã—Ç–∏—è –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ timeout ‚Üí —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥–∏, –Ω–µ—Ç deadlock

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–µ—Å—Ç—ã

#### 1. –¢–µ—Å—Ç watchdog (–ü–†–ò–û–†–ò–¢–ï–¢ 1)
- –ü–µ—Ä–µ—Ö–æ–¥: main ‚Üí system_menu ‚Üí pumps_menu ‚Üí pid_main ‚Üí pid_detail ‚Üí pid_advanced
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –ù–ï–¢ watchdog timeout –≤ –ª–æ–≥–∞—Ö
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è loading —ç–∫—Ä–∞–Ω –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
- **–û–∂–∏–¥–∞–Ω–∏–µ:** Encoder task reset watchdog –∫–∞–∂–¥—ã–µ ~100ms

#### 2. –¢–µ—Å—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è
- –û—Ç–∫—Ä—ã—Ç—å PID advanced —ç–∫—Ä–∞–Ω (—Å–ª–æ–∂–Ω—ã–π)
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ó–∞–≥—Ä—É–∑–∫–∞ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ..." —Å spinner
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –≠–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞ <5 —Å–µ–∫—É–Ω–¥
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –í –ª–æ–≥–∞—Ö: "Creating screen 'pid_advanced' ASYNCHRONOUSLY"

#### 3. –¢–µ—Å—Ç –æ—á–∏—Å—Ç–∫–∏ encoder group
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ 10+ —Ä–∞–∑
- –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–º
- **–û–∂–∏–¥–∞–Ω–∏–µ:** "Encoder group cleared" –ø—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ –∫–∞–∂–¥–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –ù–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

#### 4. –ù–∞–≤–∏–≥–∞—Ü–∏—è —ç–Ω–∫–æ–¥–µ—Ä–æ–º
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —ç–∫—Ä–∞–Ω—ã - —ç–Ω–∫–æ–¥–µ—Ä —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –ù–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –§–æ–∫—É—Å –Ω–∞ –≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

#### 5. –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç
- –ë—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ 50+ —Ä–∞–∑
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –ù–µ—Ç watchdog timeout
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∑—ã–≤—á–∏–≤–æ–π

#### 6. –î–æ–ª–≥–∞—è —Ä–∞–±–æ—Ç–∞
- –û—Å—Ç–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞ 60+ –º–∏–Ω—É—Ç —Å –∞–∫—Ç–∏–≤–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- **–û–∂–∏–¥–∞–Ω–∏–µ:** –ù–µ—Ç crashes, freezes, watchdog timeout
- **–û–∂–∏–¥–∞–Ω–∏–µ:** Heap memory —Å—Ç–∞–±–∏–ª–µ–Ω

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –ù–ï–¢ watchdog timeout –≤ encoder_task
- ‚úÖ –ù–µ—Ç warning'–æ–≤ –æ —Å–∫—Ä—ã—Ç—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –≤ –ª–æ–≥–∞—Ö
- ‚úÖ Encoder group –≤—Å–µ–≥–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –ü–∞–º—è—Ç—å –Ω–µ —Ä–∞—Å—Ç–µ—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —ç–∫—Ä–∞–Ω–æ–≤
- ‚úÖ Loading —ç–∫—Ä–∞–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "ASYNCHRONOUSLY" –¥–ª—è lazy_load —ç–∫—Ä–∞–Ω–æ–≤

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ API –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ callback'–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–±–æ—Ä–∫–µ
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ `idf.py build`

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
1. **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –¥–æ–±–∞–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è/—É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤
2. **Auto-destruct –¥–ª—è —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤** - –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ —Ç–∞–π–º–µ—Ä
3. **Preloading** - –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
4. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ heap –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ
- –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è cleanup_hidden_elements()
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å debug —ç–∫—Ä–∞–Ω —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ Screen Manager
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ data_logger

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ, –ü–õ–Æ–° –∫—Ä–∏—Ç–∏—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ watchdog timeout!

### –°–∏—Å—Ç–µ–º–∞ Screen Manager —Ç–µ–ø–µ—Ä—å:
- ‚úÖ **–£–°–¢–†–ê–ù–ï–ù watchdog timeout** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ + feed watchdog
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç encoder group –ø—Ä–∏ —Å–º–µ–Ω–µ —ç–∫—Ä–∞–Ω–æ–≤
- ‚úÖ –ù–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –ø–∞–º—è—Ç–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –ò–º–µ–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–æ 50+ —ç–∫—Ä–∞–Ω–æ–≤ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üÜï **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤** - —Å–ª–æ–∂–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ
- üÜï **Loading —ç–∫—Ä–∞–Ω** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏–Ω–¥–∏–∫–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏
- üÜï **Feed watchdog** - –∑–∞—â–∏—Ç–∞ –æ—Ç timeout –≤ encoder_task
- üÜï **–û—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞** - screen_create_task –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è UI

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
- **–ù–æ–≤—ã—Ö –∑–∞–¥–∞—á:** +1 (screen_create_task, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3, stack 4KB)
- **–ù–æ–≤—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π:** +1 (create_queue, —Ä–∞–∑–º–µ—Ä 4 —ç–ª–µ–º–µ–Ω—Ç–∞)
- **RAM overhead:** ~300 –±–∞–π—Ç (–æ—á–µ—Ä–µ–¥—å + —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- **CPU overhead:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–¥–∞—á–∏)

–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –ø—Ä–æ—à–∏–≤–∫–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

**–í–ê–ñ–ù–û:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ª–æ–≥–∞—Ö:
1. "Async screen creation initialized" - —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å
2. "Creating screen 'XXX' ASYNCHRONOUSLY" - –¥–ª—è lazy_load —ç–∫—Ä–∞–Ω–æ–≤
3. "Encoder task subscribed to watchdog" - encoder –∑–∞—â–∏—â–µ–Ω
4. –ù–ï–¢ "task_wdt: Task watchdog got triggered" - –Ω–µ—Ç timeout!

