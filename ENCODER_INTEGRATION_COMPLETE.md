# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞ - –ó–ê–í–ï–†–®–ï–ù–û ‚úÖ

## –û–±–∑–æ—Ä

–£—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è —ç–Ω–∫–æ–¥–µ—Ä–æ–º –≤ —Å–∏—Å—Ç–µ–º—É –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–∏–¥—Ä–æ–ø–æ–Ω–∏–∫–∏. –¢–µ–ø–µ—Ä—å –≤—Å–µ —ç–∫—Ä–∞–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —ç–Ω–∫–æ–¥–µ—Ä–æ–º —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é.

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üéØ –ù–∞–≤–∏–≥–∞—Ü–∏—è —ç–Ω–∫–æ–¥–µ—Ä–æ–º

#### **–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (SCREEN_MAIN)**
- **–ü–æ–≤–æ—Ä–æ—Ç CW/CCW**: –í—ã–±–æ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–µ–Ω—Å–æ—Ä–∞
- **–ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ**: –ü–µ—Ä–µ—Ö–æ–¥ –∫ —ç–∫—Ä–∞–Ω—É –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–µ–Ω—Å–æ—Ä–∞
- **–î–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ**: –ë–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è (—É–∂–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ)

#### **–≠–∫—Ä–∞–Ω—ã –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ (SCREEN_DETAIL_*)**
- **–ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ**: –ü–µ—Ä–µ—Ö–æ–¥ –∫ —ç–∫—Ä–∞–Ω—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ–Ω—Å–æ—Ä–∞
- **–î–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ**: –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

#### **–≠–∫—Ä–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ (SCREEN_SETTINGS_*)**
- **–ü–æ–≤–æ—Ä–æ—Ç CW/CCW**: –í—ã–±–æ—Ä –ø—É–Ω–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **–ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ**: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ (–∑–∞–≥–ª—É—à–∫–∞)
- **–î–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ**: –í–æ–∑–≤—Ä–∞—Ç –∫ —ç–∫—Ä–∞–Ω—É –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏

### üé® –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

#### **–í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ:**
- –í—ã–±—Ä–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞: —Å–∏–Ω–∏–π —Ñ–æ–Ω + —Å–∏–Ω—è—è —Ä–∞–º–∫–∞ (2px)
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏: –±–µ–ª—ã–π —Ñ–æ–Ω + —Å–µ—Ä–∞—è —Ä–∞–º–∫–∞ (1px)

#### **–í—ã–¥–µ–ª–µ–Ω–∏–µ –ø—É–Ω–∫—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
- –í—ã–±—Ä–∞–Ω–Ω—ã–π –ø—É–Ω–∫—Ç: —Å–∏–Ω–∏–π —Ñ–æ–Ω + —Å–∏–Ω—è—è —Ä–∞–º–∫–∞ (2px)
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—É–Ω–∫—Ç—ã: –±–µ–ª—ã–π —Ñ–æ–Ω + —Å–µ—Ä–∞—è —Ä–∞–º–∫–∞ (1px)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö:
```c
// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —ç–Ω–∫–æ–¥–µ—Ä–æ–º
static int selected_card_index = 0;        // –í—ã–±—Ä–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
static int selected_settings_item = 0;     // –í—ã–±—Ä–∞–Ω–Ω—ã–π –ø—É–Ω–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
static bool encoder_navigation_enabled = true;
```

### –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `encoder_task()` - –∑–∞–¥–∞—á–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
- `handle_encoder_event()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
- `update_card_selection()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫
- `update_settings_selection()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø—É–Ω–∫—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –°–æ–±—ã—Ç–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞:
- `ENCODER_EVENT_ROTATE_CW` - –ø–æ–≤–æ—Ä–æ—Ç –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ
- `ENCODER_EVENT_ROTATE_CCW` - –ø–æ–≤–æ—Ä–æ—Ç –ø—Ä–æ—Ç–∏–≤ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏
- `ENCODER_EVENT_BUTTON_PRESS` - –∫–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏
- `ENCODER_EVENT_BUTTON_LONG_PRESS` - –¥–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏
- `ENCODER_EVENT_BUTTON_RELEASE` - –æ—Ç–ø—É—Å–∫–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏

## –°—Ö–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```
–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
‚îú‚îÄ‚îÄ –ü–æ–≤–æ—Ä–æ—Ç ‚Üí –í—ã–±–æ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
‚îú‚îÄ‚îÄ –ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí –≠–∫—Ä–∞–Ω –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ –î–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí (–±–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è)

–≠–∫—Ä–∞–Ω –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ –ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îî‚îÄ‚îÄ –î–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

–≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ –ü–æ–≤–æ—Ä–æ—Ç ‚Üí –í—ã–±–æ—Ä –ø—É–Ω–∫—Ç–∞
‚îú‚îÄ‚îÄ –ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—É–Ω–∫—Ç–∞
‚îî‚îÄ‚îÄ –î–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí –≠–∫—Ä–∞–Ω –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞

–í `main/app_main.c`:
```c
// –ü–∏–Ω—ã —ç–Ω–∫–æ–¥–µ—Ä–∞
#define ENC_A_PIN           38  // CLK
#define ENC_B_PIN           39  // DT  
#define ENC_SW_PIN          3   // –ö–Ω–æ–ø–∫–∞

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
encoder_set_pins(ENC_A_PIN, ENC_B_PIN, ENC_SW_PIN);
encoder_init();
```

## –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º encoder
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ó–∞–¥–∞—á–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç–Ω–∫–æ–¥–µ—Ä–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å LVGL (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–°–±–æ—Ä–∫–∞**: `idf.py build` ‚úÖ
2. **–ó–∞–≥—Ä—É–∑–∫–∞**: `idf.py flash` 
3. **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: –ü–æ–≤–æ—Ä–æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
4. **–ü–µ—Ä–µ—Ö–æ–¥—ã**: –ö–æ—Ä–æ—Ç–∫–æ–µ/–¥–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
5. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–í—ã–±–æ—Ä —Å–µ–Ω—Å–æ—Ä–∞**: –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ —ç–Ω–∫–æ–¥–µ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ä—Ç–æ—á–∫–∏
2. **–ü–µ—Ä–µ—Ö–æ–¥ –∫ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏**: –ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
3. **–ü–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º**: –ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
4. **–í–æ–∑–≤—Ä–∞—Ç –Ω–∞–∑–∞–¥**: –î–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –ª—é–±–æ–º —ç–∫—Ä–∞–Ω–µ
5. **–í—ã–±–æ—Ä –ø—É–Ω–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫**: –ü–æ–≤–æ—Ä–æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞ –≤ –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LVGL –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- **–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –≠–∫—Ä–∞–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å**: –°–∫—Ä—ã—Ç–∏–µ/–ø–æ–∫–∞–∑ –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è
- **–¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–æ–≤
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –ß–µ—Ç–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ
