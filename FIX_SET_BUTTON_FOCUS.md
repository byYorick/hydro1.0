# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ö–Ω–æ–ø–∫–∞ SET —Ç–µ–ø–µ—Ä—å —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è —ç–Ω–∫–æ–¥–µ—Ä–æ–º

**–î–∞—Ç–∞:** 2025-10-08  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∞ SET –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –Ω–µ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–ª–∞—Å—å –ø—Ä–∏ –≤—Ä–∞—â–µ–Ω–∏–∏ —ç–Ω–∫–æ–¥–µ—Ä–∞  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## üîß –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏ –∫–Ω–æ–ø–∫–∏ SET

**–§–∞–π–ª:** `components/lvgl_ui/lvgl_ui.c`

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `create_status_bar()`:

```c
// –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ —Ñ–æ–∫—É—Å–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ SET
lv_obj_set_style_border_color(status_settings_btn, COLOR_ACCENT, LV_STATE_FOCUSED);
lv_obj_set_style_border_width(status_settings_btn, 2, LV_STATE_FOCUSED);
lv_obj_set_style_border_opa(status_settings_btn, LV_OPA_COVER, LV_STATE_FOCUSED);

// –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ –¥–ª—è —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏
lv_obj_clear_flag(status_settings_btn, LV_OBJ_FLAG_HIDDEN);
lv_obj_add_flag(status_settings_btn, LV_OBJ_FLAG_CLICK_FOCUSABLE);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–Ω–æ–ø–∫–∞ SET —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç –±–∏—Ä—é–∑–æ–≤—É—é —Ä–∞–º–∫—É –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ (–∫–∞–∫ –∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–∞—Ç—á–∏–∫–æ–≤).

---

### 2. –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —ç–Ω–∫–æ–¥–µ—Ä–æ–º

#### –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ (–ø—Ä–æ–±–ª–µ–º–Ω–∞—è):
```c
// –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞–º–∏ (0-5) —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–∞—Ç—á–∏–∫–æ–≤
selected_card_index = (selected_card_index + 1) % SENSOR_COUNT;
update_card_selection();
```

#### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è):
```c
// –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é LVGL –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥—Ä—É–ø–ø—ã
if (encoder_group) {
    lv_group_focus_next(encoder_group);  // CW
    lv_group_focus_prev(encoder_group);  // CCW
}

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å
lv_obj_t *focused = lv_group_get_focused(encoder_group);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≠–Ω–∫–æ–¥–µ—Ä —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –ø–æ **–≤—Å–µ–º 7 —ç–ª–µ–º–µ–Ω—Ç–∞–º** (6 –∫–∞—Ä—Ç–æ—á–µ–∫ + –∫–Ω–æ–ø–∫–∞ SET) –≤–º–µ—Å—Ç–æ —Ç–æ–ª—å–∫–æ 6 –∫–∞—Ä—Ç–æ—á–µ–∫.

---

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞ –Ω–∞ –∫–Ω–æ–ø–∫–µ SET

```c
case ENCODER_EVENT_BUTTON_PRESS:
    if (current_screen == SCREEN_MAIN) {
        lv_obj_t *focused = lv_group_get_focused(encoder_group);
        
        // –ï—Å–ª–∏ —Ñ–æ–∫—É—Å –Ω–∞ –∫–Ω–æ–ø–∫–µ SET - –æ—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        if (focused == status_settings_btn) {
            ESP_LOGI(TAG, "SET button activated via encoder");
            system_settings_button_event_cb(NULL);
        } else {
            // –ò–Ω–∞—á–µ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –¥–∞—Ç—á–∏–∫–∞
            show_screen(SCREEN_DETAIL_PH + selected_card_index);
        }
    }
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞–∂–∞—Ç–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞ –Ω–∞ –∫–Ω–æ–ø–∫–µ SET —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

---

### 4. –û—Ç–∫–ª—é—á–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∞—è –ª–æ–≥–∏–∫–∞

#### –í —Ñ—É–Ω–∫—Ü–∏–∏ `encoder_event_cb()`:
```c
// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è –≤—Ä–∞—â–µ–Ω–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞
// –û–¢–ö–õ–Æ–ß–ï–ù–û: —Ç–µ–ø–µ—Ä—å –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ handle_encoder_event()
// —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º lv_group_focus_next/prev –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–Ω–æ–ø–∫–∏ SET
if (code == LV_EVENT_VALUE_CHANGED) {
    // –ù–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å —á–µ—Ä–µ–∑ lv_group_focus_next()
    // –°—Ç–∞—Ä—ã–π –∫–æ–¥ –¥–ª—è SCREEN_MAIN —É–¥–∞–ª–µ–Ω
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–±—Ä–∞–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É –¥–≤—É–º—è —Å–∏—Å—Ç–µ–º–∞–º–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

---

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `lvgl_get_total_focus_items()`

```c
int lvgl_get_total_focus_items(void)
{
    return SENSOR_COUNT + 1;  // 6 –¥–∞—Ç—á–∏–∫–æ–≤ + 1 –∫–Ω–æ–ø–∫–∞ SET
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –≥—Ä—É–ø–ø–µ —Ñ–æ–∫—É—Å–∞.

---

### 6. –£–¥–∞–ª–µ–Ω–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è

```c
// –£–î–ê–õ–ï–ù–û: update_card_selection() 
// –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è LVGL —á–µ—Ä–µ–∑ lv_group_focus_next/prev
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–µ–π –ª–æ–≥–∏–∫–∏.

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

### –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø–µ —ç–Ω–∫–æ–¥–µ—Ä–∞:

1. **–ö–∞—Ä—Ç–æ—á–∫–∞ pH** (–∏–Ω–¥–µ–∫—Å 0)
2. **–ö–∞—Ä—Ç–æ—á–∫–∞ EC** (–∏–Ω–¥–µ–∫—Å 1)
3. **–ö–∞—Ä—Ç–æ—á–∫–∞ Temp** (–∏–Ω–¥–µ–∫—Å 2)
4. **–ö–∞—Ä—Ç–æ—á–∫–∞ Humidity** (–∏–Ω–¥–µ–∫—Å 3)
5. **–ö–∞—Ä—Ç–æ—á–∫–∞ Lux** (–∏–Ω–¥–µ–∫—Å 4)
6. **–ö–∞—Ä—Ç–æ—á–∫–∞ CO2** (–∏–Ω–¥–µ–∫—Å 5)
7. **–ö–Ω–æ–ø–∫–∞ SET** (–∏–Ω–¥–µ–∫—Å 6) ‚Üê **–ù–û–í–´–ô –≠–õ–ï–ú–ï–ù–¢**

### –ù–∞–≤–∏–≥–∞—Ü–∏—è:

#### –í—Ä–∞—â–µ–Ω–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ:
```
pH ‚Üí EC ‚Üí Temp ‚Üí Hum ‚Üí Lux ‚Üí CO2 ‚Üí SET ‚Üí pH ‚Üí ...
```

#### –í—Ä–∞—â–µ–Ω–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞ –ø—Ä–æ—Ç–∏–≤ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏:
```
pH ‚Üí SET ‚Üí CO2 ‚Üí Lux ‚Üí Hum ‚Üí Temp ‚Üí EC ‚Üí pH ‚Üí ...
```

#### –ù–∞–∂–∞—Ç–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞:
- **–ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –¥–∞—Ç—á–∏–∫–∞:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ù–∞ –∫–Ω–æ–ø–∫–µ SET:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω—é —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

| –ê—Å–ø–µ–∫—Ç | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|--------|------|-------|
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** | 6 (—Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–∫–∏) | 7 (–∫–∞—Ä—Ç–æ—á–∫–∏ + SET) |
| **–ú–µ—Ç–æ–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** | –†—É—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã `selected_card_index` | LVGL –≥—Ä—É–ø–ø—ã `lv_group_focus_next/prev` |
| **–§–æ–∫—É—Å –Ω–∞ SET** | ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–µ–Ω | ‚úÖ –í–æ–∑–º–æ–∂–µ–Ω |
| **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** | –†–∞–º–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö | –†–∞–º–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö **–ò** –∫–Ω–æ–ø–∫–µ SET |

### –í–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å —Ñ–æ–∫—É—Å–∞

```c
// –ö–Ω–æ–ø–∫–∞ SET –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ:
Border color: #00BCD4 (–±–∏—Ä—é–∑–æ–≤—ã–π, COLOR_ACCENT)
Border width: 2px
Border opacity: 100%
Background: Transparent
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã –≤ –ª–æ–≥–∞—Ö –ø–æ—è–≤—è—Ç—Å—è:
```
[lvgl_ui] SET button added to encoder group
[lvgl_ui] Total objects in encoder group: 7 (6 sensors + 1 SET button)
[lvgl_ui] SET button activated via encoder  ‚Üê –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ SET
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –í—Ä–∞—â–µ–Ω–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞
1. –ù–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –∫—Ä—É—Ç–∏—Ç–µ —ç–Ω–∫–æ–¥–µ—Ä –≤–ø—Ä–∞–≤–æ
2. –§–æ–∫—É—Å –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è: pH ‚Üí EC ‚Üí Temp ‚Üí Hum ‚Üí Lux ‚Üí CO2 ‚Üí **SET**
3. –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç–µ –∫—Ä—É—Ç–∏—Ç—å ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ pH

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–Ω–æ–ø–∫–∞ SET –ø–æ–ª—É—á–∞–µ—Ç –±–∏—Ä—é–∑–æ–≤—É—é —Ä–∞–º–∫—É –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ SET
1. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ —ç–Ω–∫–æ–¥–µ—Ä –¥–æ –∫–Ω–æ–ø–∫–∏ SET
2. –ù–∞–∂–º–∏—Ç–µ —ç–Ω–∫–æ–¥–µ—Ä
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω—é "–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å 6 –ø—É–Ω–∫—Ç–∞–º–∏ (Auto Control, WiFi, Display, Data Logger, System Info, Reset)

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–±—Ä–∞—Ç–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
1. –ò–∑ –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–∞–∂–º–∏—Ç–µ "Back"
2. –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
3. –§–æ–∫—É—Å –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º —ç–ª–µ–º–µ–Ω—Ç–µ

‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–ª–∞–≤–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ–∑–∏—Ü–∏–∏

---

## üìà –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä –ø—Ä–æ—à–∏–≤–∫–∏

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- **–†–∞–∑–º–µ—Ä:** 635 KB (0x9be80 bytes)
- **–°–≤–æ–±–æ–¥–Ω–æ:** 401 KB (39%)

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- **–†–∞–∑–º–µ—Ä:** 643 KB (0x9cd00 bytes)
- **–°–≤–æ–±–æ–¥–Ω–æ:** 397 KB (39%)
- **–ü—Ä–∏—Ä–æ—Å—Ç:** +8 KB

**–í—ã–≤–æ–¥:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (+1.3%) –¥–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è UX.

---

## üîç –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä—É–ø–ø—ã —ç–Ω–∫–æ–¥–µ—Ä–∞:
```c
uint32_t obj_count = lv_group_get_obj_count(encoder_group);
ESP_LOGI(TAG, "Objects in group: %lu", (unsigned long)obj_count);
// –û–∂–∏–¥–∞–µ—Ç—Å—è: 7
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–æ–∫—É—Å–∞:
```c
lv_obj_t *focused = lv_group_get_focused(encoder_group);
if (focused == status_settings_btn) {
    ESP_LOGI(TAG, "Focus is on SET button");
}
```

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å–æ —Å—Ç–∞—Ä–æ–π –ª–æ–≥–∏–∫–æ–π
–ï—Å–ª–∏ –≤ –∫–æ–¥–µ –æ—Å—Ç–∞–ª–∏—Å—å –≤—ã–∑–æ–≤—ã `lvgl_set_focus()` —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ 0-5, –æ–Ω–∏ **–ù–ï** —Å–º–æ–≥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–æ–∫—É—Å –Ω–∞ –∫–Ω–æ–ø–∫—É SET (–∏–Ω–¥–µ–∫—Å 6).

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `lv_group_focus_obj()` –¥–ª—è –ø—Ä—è–º–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ñ–æ–∫—É—Å–∞.

### 2. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
–§—É–Ω–∫—Ü–∏—è `lvgl_get_total_focus_items()` —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 7 –≤–º–µ—Å—Ç–æ 6.

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è.

---

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- **`components/lvgl_ui/lvgl_ui.c`** (3232 —Å—Ç—Ä–æ–∫–∏)
  - –§—É–Ω–∫—Ü–∏—è `create_status_bar()` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ —Ñ–æ–∫—É—Å–∞
  - –§—É–Ω–∫—Ü–∏—è `handle_encoder_event()` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  - –§—É–Ω–∫—Ü–∏—è `encoder_event_cb()` ‚Äî –æ—Ç–∫–ª—é—á–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞
  - –§—É–Ω–∫—Ü–∏—è `show_screen()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ–∫—É—Å–∞
  - –§—É–Ω–∫—Ü–∏—è `lvgl_get_total_focus_items()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 7
  - –£–¥–∞–ª–µ–Ω–∞ `update_card_selection()` ‚Äî –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–∞

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ë—ã–ª–æ:
- ‚ùå –ö–Ω–æ–ø–∫–∞ SET –Ω–µ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ —ç–Ω–∫–æ–¥–µ—Ä
- ‚ùå –ù–∞–≤–∏–≥–∞—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ 6 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

### –°—Ç–∞–ª–æ:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ SET —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è —ç–Ω–∫–æ–¥–µ—Ä–æ–º
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–±–∏—Ä—é–∑–æ–≤–∞—è —Ä–∞–º–∫–∞)
- ‚úÖ –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ SET –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –≤—Å–µ 7 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –Ω–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ LVGL (–±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ)

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ü—Ä–æ—à–∏–≤–∫–∞ —Å–æ–±—Ä–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–≥—Ä—É–∑–∫–µ:

```bash
idf.py -p COM3 flash monitor
```

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. ‚úÖ –í—Ä–∞—â–µ–Ω–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–≤–∫–ª—é—á–∞—è SET)
2. ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è —Ä–∞–º–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫–µ SET –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
3. ‚úÖ –ù–∞–∂–∞—Ç–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞ –Ω–∞ SET –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
5. ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã (CW/CCW)

---

## üìñ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LVGL Groups (lv_group)

–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≥—Ä—É–ø–ø LVGL –¥–∞–µ—Ç:

1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** LVGL —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ–∫—É—Å–æ–º –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–±—ã—Ç–∏–π
2. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –≥—Ä—É–ø–ø—É
3. **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å:** –û–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ UI
4. **–ú–µ–Ω—å—à–µ –∫–æ–¥–∞:** –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–Ω–¥–µ–∫—Å–∞–º–∏
5. **–õ—É—á—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –†–∞–±–æ—Ç–∞–µ—Ç —Å LVGL —Ç–µ–º–∞–º–∏ –∏ —Å—Ç–∏–ª—è–º–∏

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

```
Encoder Hardware ‚Üí encoder_task() ‚Üí handle_encoder_event() 
                                         ‚Üì
                                   lv_group_focus_next/prev()
                                         ‚Üì
                                   LVGL Internal Navigation
                                         ‚Üì
                           Visual Feedback (Border/Highlight)
```

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 2025-10-08  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ—à–∏–≤–∫–∏:** v1.0 (build: 643 KB)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê**

