# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–î–∞—Ç–∞:** 2025-10-09  
**–ü—Ä–æ–µ–∫—Ç:** –ì–∏–¥—Ä–æ–ø–æ–Ω–Ω–∞—è IoT —Å–∏—Å—Ç–µ–º–∞ —Å PID —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** ESP32-S3  
**ESP-IDF:** v5.5  

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π IoT —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–∏–¥—Ä–æ–ø–æ–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PID-—Ä–µ–≥—É–ª—è—Ç–æ—Ä–æ–≤.

---

## ‚úÖ –ö–û–ú–ü–ò–õ–Ø–¶–ò–Ø –£–°–ü–ï–®–ù–ê!

```
Project build complete. To flash, run: idf.py flash

Binary —Ä–∞–∑–º–µ—Ä: 1000 KB (95% –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ - –ø–∞—Ä—Ç–∏—Ü–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∞!)
Bootloader: 21 KB
```

---

## üèóÔ∏è –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. PID –°–∏—Å—Ç–µ–º–∞ (–ö–õ–Æ–ß–ï–í–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø)

#### ‚úÖ pid_controller
- –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π PID –∞–ª–≥–æ—Ä–∏—Ç–º (P + I + D)
- Anti-windup clamping –¥–ª—è I-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è D-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã—Ö–æ–¥–∞ (min/max)

–§–∞–π–ª—ã:
```
components/pid_controller/
‚îú‚îÄ‚îÄ pid_controller.h
‚îú‚îÄ‚îÄ pid_controller.c
‚îî‚îÄ‚îÄ CMakeLists.txt
```

#### ‚úÖ pump_manager
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 6 –ø–µ—Ä–∏—Å—Ç–∞–ª—å—Ç–∏—á–µ—Å–∫–∏–º–∏ –Ω–∞—Å–æ—Å–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¥–æ–∑—ã, –æ–±—ä–µ–º, –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- Cooldown —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ (–¥–æ–∑ –≤ —á–∞—Å, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª)

–§–∞–π–ª—ã:
```
components/pump_manager/
‚îú‚îÄ‚îÄ pump_manager.h
‚îú‚îÄ‚îÄ pump_manager.c
‚îî‚îÄ‚îÄ CMakeLists.txt
```

–õ–∏–º–∏—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
```c
#define PUMP_MIN_DOSE_ML 0.1f
#define PUMP_MAX_DOSE_ML 100.0f
#define PUMP_MIN_INTERVAL_SEC 10
#define PUMP_MAX_DOSES_PER_HOUR 20
```

#### ‚úÖ pump_pid_manager
- 6 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö PID –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- –ü—Ä–∏–≤—è–∑–∫–∞ PID ‚Üî –ù–∞—Å–æ—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π / —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–æ–∑ —á–µ—Ä–µ–∑ PID
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ pump_manager

–§–∞–π–ª—ã:
```
components/pump_pid_manager/
‚îú‚îÄ‚îÄ pump_pid_manager.h
‚îú‚îÄ‚îÄ pump_pid_manager.c
‚îî‚îÄ‚îÄ CMakeLists.txt
```

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ system_config.h

–î–æ–±–∞–≤–ª–µ–Ω—ã:
```c
// PID –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞—Å–æ—Å–∞
typedef struct {
    float kp, ki, kd;
    float output_min, output_max;
    bool enabled;
    bool auto_mode;
} pump_pid_config_t;

// –í system_config_t:
pump_pid_config_t pump_pid[6];  // –í—Å–µ 6 PID
uint8_t control_mode;           // Manual/PID/AI/Hybrid
```

### 3. PID –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

| –ù–∞—Å–æ—Å | Kp | Ki | Kd | Min(–º–ª) | Max(–º–ª) | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|-------|----|----|-----|---------|---------|-------------|
| pH UP | 2.0 | 0.5 | 0.1 | 1.0 | 50.0 | –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è |
| pH DOWN | 2.0 | 0.5 | 0.1 | 1.0 | 50.0 | –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è |
| EC A | 1.0 | 0.2 | 0.05 | 1.0 | 30.0 | –ü–∏—Ç–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞ |
| EC B | 1.0 | 0.2 | 0.05 | 1.0 | 30.0 | –ü–∏—Ç–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞ |
| EC C | 0.8 | 0.15 | 0.03 | 0.5 | 15.0 | –ú–∏–∫—Ä–æ—ç–ª–µ–º–µ–Ω—Ç—ã |
| WATER | 0.5 | 0.1 | 0.0 | 5.0 | 100.0 | –†–∞–∑–±–∞–≤–ª–µ–Ω–∏–µ |

–°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ NVS —á–µ—Ä–µ–∑ `config_manager`.

---

## üåê IoT –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ‚úÖ telegram_bot
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–∞—Ä–º–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (20:00)
- –ü—Ä–∏–µ–º –∫–æ–º–∞–Ω–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å system_config.h

### ‚úÖ sd_storage
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –Ω–∞ SD-–∫–∞—Ä—Ç—É
- CSV —Ñ–æ—Ä–º–∞—Ç (`/sdcard/data/sensors/YYYYMMDD.csv`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FreeRTOS

### ‚úÖ ai_controller
- –≠–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π AI –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ pH/EC
- –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è TensorFlow Lite Micro
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç PID (–≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞)

### ‚úÖ mesh_network
- ESP-NOW mesh —Å–µ—Ç—å
- Gateway + Slave —É–∑–ª—ã
- Heartbeat —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤

---

## ‚è∏Ô∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—â–∏–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏

### ‚ùå mqtt_client
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç API ESP-IDF v5.5  
**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `esp_mqtt_client_init()` API  
**–°—Ç–∞—Ç—É—Å:** –û—Ç–∫–ª—é—á–µ–Ω –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### ‚ùå network_manager  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `wifi_config_t`  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `wifi_config_t` union –≤–º–µ—Å—Ç–æ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ç–∏–ø–∞  
**–°—Ç–∞—Ç—É—Å:** –û—Ç–∫–ª—é—á–µ–Ω –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### ‚ùå mobile_app_interface
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢—Ä–µ–±—É–µ—Ç Bluetooth –±–∏–±–ª–∏–æ—Ç–µ–∫–∏  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å esp_bt –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–ª–∏ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –±–µ–∑ BT  
**–°—Ç–∞—Ç—É—Å:** –û—Ç–∫–ª—é—á–µ–Ω –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

---

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### main/system_config.h
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `pump_pid_config_t[6]`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `control_mode`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `poll_interval` –≤ `telegram_config_t`

### components/config_manager/config_manager.c
- ‚úÖ Defaults –¥–ª—è –≤—Å–µ—Ö 6 PID –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- ‚úÖ Defaults –¥–ª—è —Ä–µ–∂–∏–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (PID by default)

### components/system_tasks/system_tasks.c
- ‚úÖ –í–∫–ª—é—á–µ–Ω—ã IoT –∑–∞–¥–∞—á–∏: telegram, sd_logging, ai_correction, mesh_heartbeat
- ‚è∏Ô∏è MQTT –∑–∞–¥–∞—á–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞ (—Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏)

### main/app_main.c
- ‚è∏Ô∏è IoT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ (iot_integration.c)
- ‚úÖ –í—Å–µ –±–∞–∑–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ù–æ–≤—ã–µ (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏):

```
components/
‚îú‚îÄ‚îÄ pid_controller/       ‚úÖ –ë–∞–∑–æ–≤—ã–π PID
‚îú‚îÄ‚îÄ pump_manager/         ‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞—Å–æ—Å–æ–≤
‚îú‚îÄ‚îÄ pump_pid_manager/     ‚úÖ PID + Pump –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ telegram_bot/         ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  
‚îú‚îÄ‚îÄ sd_storage/           ‚úÖ SD –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ ai_controller/        ‚úÖ AI –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
‚îú‚îÄ‚îÄ mesh_network/         ‚úÖ Mesh —Å–µ—Ç—å
‚îú‚îÄ‚îÄ mqtt_client/          ‚ùå –û—Ç–∫–ª—é—á–µ–Ω
‚îú‚îÄ‚îÄ network_manager/      ‚ùå –û—Ç–∫–ª—é—á–µ–Ω
‚îî‚îÄ‚îÄ mobile_app_interface/ ‚ùå –û—Ç–∫–ª—é—á–µ–Ω
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PID —Å–∏—Å—Ç–µ–º—ã

```c
#include "pump_pid_manager.h"

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑ NVS)
pump_pid_manager_init();

// PID –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
float current_ph = 7.2;
float target_ph = 6.8;

pump_pid_compute_and_execute(PUMP_PID_PH_DOWN, current_ph, target_ph);
// PID –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–æ–∑—É –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —á–µ—Ä–µ–∑ pump_manager

// –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
pump_pid_set_tunings(PUMP_PID_PH_UP, 2.5f, 0.6f, 0.15f);

// –°–±—Ä–æ—Å –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞
pump_pid_reset(PUMP_PID_EC_A);
```

---

## üéÆ –†–µ–∂–∏–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```c
typedef enum {
    0 = CONTROL_MODE_MANUAL,   // –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    1 = CONTROL_MODE_PID,      // PID —Ç–æ–ª—å–∫–æ ‚Üê DEFAULT
    2 = CONTROL_MODE_AI,       // AI —Ç–æ–ª—å–∫–æ
    3 = CONTROL_MODE_HYBRID    // AI + PID
} control_mode_t;
```

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `system_config.control_mode`.

---

## ‚è≠Ô∏è –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

1. **UI —ç–∫—Ä–∞–Ω—ã –¥–ª—è PID** (–≠—Ç–∞–ø—ã 5-7 –∏–∑ –ø–ª–∞–Ω–∞)
   - `screens/pid/pid_main_screen.c` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö PID
   - `screens/pid/pid_detail_screen.c` - –¥–µ—Ç–∞–ª–∏ + –≥—Ä–∞—Ñ–∏–∫
   - `screens/pid/pid_tuning_screen.c` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Kp/Ki/Kd
   - `screens/pid/pid_graph_screen.c` - real-time –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PID –≤ ph_ec_controller** (–≠—Ç–∞–ø 6)
   - –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é –∫–æ—Ä—Ä–µ–∫—Ü–∏—é –Ω–∞ PID
   - –î–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ (Manual/PID/AI/Hybrid)

3. **Auto-Tuning Ziegler-Nichols** (–≠—Ç–∞–ø 3)
   - –ê–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PID
   - UI —ç–∫—Ä–∞–Ω –¥–ª—è –∞–≤—Ç–æ—Ç—é–Ω–∏–Ω–≥–∞

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

4. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å MQTT Client**
   - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ ESP-IDF v5.5 API
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã –∏–∑ `mqtt_client.h`

5. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å Network Manager**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `wifi_config_t` union
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å lwip

6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ PID** (–≠—Ç–∞–ø 8)
   - PID –ª–æ–≥–∏ –Ω–∞ SD: `/sdcard/data/pid/pid_YYYYMMDD.csv`
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ü–∏–π

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

7. **MQTT –ø—É–±–ª–∏–∫–∞—Ü–∏—è PID** (–≠—Ç–∞–ø 9)
8. **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è PID** (–≠—Ç–∞–ø 9.2)
9. **Unit —Ç–µ—Å—Ç—ã PID** (–≠—Ç–∞–ø 12)

---

## ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

**–ü–∞–º—è—Ç—å –ø–æ—á—Ç–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ (95%)!**

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä app partition –≤ `partitions.csv`
2. –û—Ç–∫–ª—é—á–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ LVGL –ø—Ä–∏–º–µ—Ä—ã
3. –£–º–µ–Ω—å—à–∏—Ç—å stack —Ä–∞–∑–º–µ—Ä—ã –∑–∞–¥–∞—á –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
4. –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
- `PID_SYSTEM_COMPLETE.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PID —Å–∏—Å—Ç–µ–º—ã
- `IOT_SYSTEM_README.md` - IoT –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `SETTINGS_SCREENS_GUIDE.md` - UI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –≠—Ç–æ—Ç —Ñ–∞–π–ª - —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

---

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
C:\Windows\system32\cmd.exe /k "C:\Espressif\idf_cmd_init.bat esp-idf-1dcc643656a1439837fdf6ab63363005"

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è
idf.py build

# –ü—Ä–æ—à–∏–≤–∫–∞ + –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
idf.py build flash monitor

# –¢–æ–ª—å–∫–æ flash
idf.py -p COM3 flash
```

---

## üéì –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è PID —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è 6 –Ω–∞—Å–æ—Å–æ–≤  
‚úÖ –í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ NVS  
‚úÖ IoT –∑–∞–¥–∞—á–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ FreeRTOS  
‚úÖ SD-–∫–∞—Ä—Ç–∞ –¥–ª—è –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è  
‚úÖ Telegram –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π  
‚úÖ Mesh-—Å–µ—Ç—å –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è  
‚úÖ AI-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —É–º–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏  

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–æ–¥–∞

- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 62 (–≤–∫–ª—é—á–∞—è ESP-IDF)
- **–ù–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 9
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~5000+ (–Ω–æ–≤—ã–π –∫–æ–¥)
- **–†–∞–∑–º–µ—Ä –ø—Ä–æ—à–∏–≤–∫–∏:** 1 MB
- **FreeRTOS –∑–∞–¥–∞—á:** 11 (7 –±–∞–∑–æ–≤—ã—Ö + 4 IoT)

---

## üî• –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ—à–∏–≤–∫–µ –Ω–∞ ESP32-S3.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –°–æ–∑–¥–∞–Ω–∏–µ UI —ç–∫—Ä–∞–Ω–æ–≤ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ PID —Ä–∞–±–æ—Ç—ã!

